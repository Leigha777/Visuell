<!doctype html>
<!--
 This page is shown when the extension button is clicked, because the
 "browser_action" field in manifest.json contains the "default_popup" key with
 value "popup.html".
 -->
<html>
  <head>
    <title>Visuell</title>
    <style>
      body {
        width: 550px;
        height: 350px;
        font-family: "Segoe UI", "Lucida Grande", Tahoma, sans-serif;
        font-size: 100%;
      }
      #status {
        /* avoid an excessively wide status text */
        white-space: pre;
        text-overflow: ellipsis;
        overflow: hidden;
        max-width: 400px;
      }
      input {
        display: inline-block;
        width:50px;
      }
    </style>

    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: https://developer.chrome.com/extensions/contentSecurityPolicy
     -->
    <script src="popup.js"></script>
  </head>
  <body>

    <!-- Main page -->
    <div id="main" style="display:block">
      Welcome to Visuell.
      <br>
      If this is your first time, please go to the Settings and configure your zoom.
      <br>
      Otherwise, check the checkbox to enable Visuell for this tab.
      <br>
      <input id="chkEnable" type="checkbox">Enable Visuell</input>
      <br>
      <br>
      <button id="switchsettings" type="button">Settings</button>
      <br>
      <a href="http://www.achow101.com/Visuell/test_page.html">Demo Page</a><br>
      <a href="http://www.achow101.com/Visuell/about_us.html">About UsM</a>
    </div>

    <!-- settings stuff -->
    <div id="settings" style="display:none">
      Options for getting zoom data:
      <br><br>
      <!-- Option tabs -->
      <div id="zoomopts">
        <input type="radio" id="rdopt1" name="zoomopt" checked='checked'>Visual Acuity Entry</input>
        <input type="radio" id="rdopt2" name="zoomopt">Snellen Test</input>
        <input type="radio" id="rdopt3" name="zoomopt">Prescription Entry</input>
      </div>
      <br>

      <!-- Manual Entry -->
      <div id="manual" style="display:block">
        Visual Acuity is the measurement of the clarity of vision. This test is typically done wih an eye chart. Visual Acuity is measured on the 20/20 scale (6/6 for metric). Use this form if you know your Visual Acuity.
        <br><br>
        Visual Acuity:
        <div id="scale">20/<input id="visAc"></input></div>
        <br>
        Distance From Screen: <input id="dist"></input>
        <br>
        <input id="metricChk" type="checkbox">Use Metric</input>
        <br>
        <button id="changeZoomButton" type="button">Set Zoom</button>
      </div>

      <!-- Snellen Chart Picker -->
      <div id="snellenpick" style="display:none">
        This form is a Snellen Chart, a commonly used chart to measure Visual Acuity. Remove your prescription lenses and select the the lowest line that you are able to see.
        <br><br>
        <input type="image" src="snellen20200.png" id="snellen20200" style="height:58px;width:auto;"</input>
        <br>
        <input type="image" src="snellen20100.png" id="snellen20100" style="height:37px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2070.png" id="snellen2070" style="height:33px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2050.png" id="snellen2050" style="height:24px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2040.png" id="snellen2040" style="height:20px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2030.png" id="snellen2030" style="height:16px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2025.png" id="snellen2025" style="height:12px;width:auto;"</input>
        <br>
        <input type="image" src="snellen2020.png" id="snellen2020" style="height:10px;width:auto;"</input>
        <br>
      </div>

      <!-- Prescription picker -->
      <div  id="diopters" style="display:none">
        Your glasses prescription is related to your Visual Acuity. Enter the data for the Sphere from your glasses prescription. We will provide you with three different zoom options. Choose the one which is easiest for you to read.
        <br><br>
        <table>
          <tr>
            <td>
              Distance
            </td>
            <td>
              <table id="distance">
                <tr>
                  <td></td>
                  <td>
                    Sphere
                  </td>
                </tr>
                <tr>
                  <td>OD</td>
                  <td>
                    <input id="dods"></input>
                  </td>
                </tr>
                <tr>
                  <td>OS</td>
                  <td>
                    <input id="doss"></input>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td>
              Add
            </td>
            <td>
              <table>
                <tr>
                  <td>
                    OD
                  </td>
                  <td>
                    <input id="aods"></input>
                  </td>
                </tr>
                <tr>
                  <td>
                    OS
                  </td>
                  <td>
                    <input id="aoss"></input>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
        <button id="dioptriczoombutton" type="button">Calculate</button>

        <!-- Dioptric options -->
        <div id=dioptricopts style="display:none">
          <br>
          <br>
          <button id="opt1">Zoom 1</button>
          <button id="opt2">Zoom 2</button>
          <button id="opt3">Zoom 3</button>
        </div>
      </div>

      <br>
      <br>
      <button id="exitsettings" type="button">Close Settings</button>
    </div>
  </body>
</html>
